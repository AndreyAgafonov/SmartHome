1. Управление уютом в доме

   - Управления освещением.
     - наружное (уличное) освещение;
     - внутреннее освещение, в том числе регулировка освещенности (диммеры);
     - управление освещенностью в зависимости от  времени суток и года;
     - Имитация присутствия хозяев
     - датчики движения - для автоматического отключения света, если в помещении никого нет;
       (ручное управление и автоматическое,шторы и пр).  
     - Подсветки всякие разные
     - Энергосбережение (отключение света когда никого нет, отключение розеток, когда никого нет дома)
     
   - Управление климатом. 
     - Поддержание температуры (кондиционер, вентиляция, котел, теплые полы, влажность) 
     - Сбор метеоинформации внутри и вне дома (температура, влажность, ветер, атм. давление);
     - Отразить необходимую информацию на устройствах визуализации;
     - управление газовыми котлами;
     - управление теплым полом;
     - управление производством горячей воды;
     - Управление кондиционером
     - Регулировка влажности в доме.
     - Управление вентиляцией
   - Прочее
     - Управление медиа в доме
     - Упрваление жалюз и  приводами
     - Сбор показаний счетчиков воды и газа
     - Иметь единый централизованный банк аудио-видео информации;
     - Автоматически приглушать музыку при поступлении телефонного, дверного звонка;
     - Автоматически выводить информационные сообщения о состоянии на экранах;
     - Управлять отображением камеры наблюдения в коридоре на телевизоре в спальне;
     - Управлять всеми устройствами домашнего кинотеатра;
     - Управлять всеми системами из любой точки мира;
     - Управлять всеми системами с любого компьютера в доме;
     - Получать картинку с любой камеры видеонаблюдения из любой точки мира;
     - Читать сообщения системы с любой сенсорной панели в квартире;
     - Отслеживание присутствие конкретных людей, их время прихода/ухода;
     - Управление роботами уборщиками
     - контроль зарядки батареи

2. Безопасность.

   - Пожарная безопасность
      - протечки газа
      - протечки воды
      - Пожарка
   - Короткое замыкание?(как реагировать)
   - Проникновение ( несанкционированное проникновение или взлом)
        - Видеонаблюдение
        - Проникновение \ взлом (окна, двери)
        - Защита питания
   - Аудит
     - действия пользователей в системе
     - Event
     - логи
   - отслеживания состояния дверей, замков, окон и форточек
   - Информация о протечках и их локализация;
   - 

3. Гараж
   - управление воротами
   - Управление элактричесвом
   - отоплением
   - освещением.
4. Баня



Особенности:

1. Модульная система меню
2. Модульная система подключения датчиков.
3. Процессинги



Протоколы связи:

1. Внутренние связи между компонентами приложения - HTTP\HTTPS API request
2. Связи между датчиками и сборщиками - ??? [связь Raspberri и arduino](https://voltiq.ru/raspberry-pi-arduino-serial-communication/)



что нужно понять\разобраться:

- Модульность. Как не ограниченно расширять  возможность управления устройствами. 
  - Отдельное устройство управление одной комнатой? Что в этом плохого\хорошего
  - На каком уровне работает автоматизация? т.е. если произошла протечка воды - то кто принимает решение что нужно перекрыть водяной клапан?
  - связка raspberri pi + arduino. Отправка через последовательный интерфейс. Добавить возможность программирования arduino через raspberry po
- Организация сети для подключения
- структура базы данных
- Сбор метрик - pull - мы сами не ходим, а ждем входящих уведомлений от камер.
- Уведомления.
  - async
  - отдельный\дочерний процесс
  - 
- Описать структуру автомазиаций.
- уведомления телега, слак, смс, почта звонки и пр.
- 





приветы Толь. я тут для себя "балуюсь" с питоном. и быстро пришел к тому что сначала надо подготовить ТЗ и описать все что хочу. с этим справился. Теперь мне надо выбрать и спроектировать структуру базы данных и приложения.
Ты можешь с этим помочь? как вообще это делается и какие то может есть подходы? Самое правильно считаю пнуть в каком нить направлении. но пообсуждать я только за.

это "аля система умного дома"
список того что она может набросал. 
БД - монга. хех :) как буд то что то могло быть иначе)

- выбор хардвре. (Сейчас идея такая что основная часть работает либо на домашнем серваке либо где то в облаке. обернуть в докер не проблема т.е. это может быть и кубер или лямбда пофиг )
- Теперь количество используемых баз? (одна, две три и т.д.)
- структура приложения. отдельно веб отдельно какие нить процессинги? Модель сбора метрик. push\pull
- формат метрики. (JSON а что в ней? )
- хранение данных с датчиков (каждый в отдельной коллекции, в одной и строить структуру в зависимости от типа датчика и т.д.
- Данные Аудита(действие пользователей в системе, события системы, логи) - это лежит в той же базе? или где то на внешке.
- Хранение всех настроек. Где и как храним. все в БД? все в конфигах?(я думаю все что необходимо для запуска - лежит в конфигах, все остальное в базе. Создается дефолтный конфиг стартовой миграцией. Это отчасти уже сделано)
- выбор используемого фреймворка.
- что еще забыл...?!



Коллекции в БД:

- Settings:
  - credentials
    - Telegram
    - app - для внутренней связи между собой
    - Креды для подключения камер.
- Events







Кейс.

1. Сервер
2. Распберри
   1. подключено реле и настроено на работу.

С сервера нажимаю кнопку вкл\выкл реле - реле реагирует.

1. Что нужно сделать -  модуль API для запуска его на  распределенных системах

2. написать  класс для внешних запросов.
3. Написать  авторизацию для запросов.
4. Описать как это храниться в БД и как подключатся.

